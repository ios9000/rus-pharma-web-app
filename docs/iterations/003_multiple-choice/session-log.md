# Сессия: 2026-02-08 — Итерация 003: Multiple Choice

## Цель
Добавить поддержку множественного выбора ответов (checkbox) в модуле тестирования. Фронтенд ранее поддерживал только один правильный ответ (radio), хотя данные в Google Sheets содержат вопросы с несколькими правильными ответами.

## Ключевые промпты

1. «Реализуй поддержку multiple choice по спецификации из docs/iterations/003_multiple-choice/design.md»
   → Результат: полная реализация в 2 коммита
   → Коммит: 1fdba73, 1e84320

## Что реализовано

### Коммит 1fdba73 — feat(data): fallback-данные
- Обновлены массивы правильных ответов для 3 multi-choice вопросов в fallback-data.js:
  - q8 (анафилаксия): `correct: [0, 1, 2, 4]`
  - q14 (ОРВИ): `correct: [0, 2, 4, 5]`
  - q54 (qSOFA): `correct: [0, 2, 3]`

### Коммит 1e84320 — feat(test): логика multiple-choice
- `isMultipleChoice(q)` — определение типа: массив → checkbox, число → radio
- Подсказка: «Выберите все правильные ответы (N)» / «Выберите один ответ»
- Checkbox UI: кнопки-переключатели ☐/☑ с визуальным выделением
- Кнопка «Проверить»: появляется только для multi-choice
- 3-уровневая обратная связь:
  - ✅ Все верно → «Верно! Все ответы правильные.»
  - ⚠️ Частично → «Частично верно. X из Y правильных ответов.»
  - ❌ Неверно → подсветка ошибочных
- Single-choice — без изменений (клик = мгновенная проверка)
- CSS обновлён для стилей checkbox

## Принятые решения
- Тип вопроса определяется из данных: `correct` — число (single) или массив (multiple)
- Формат fallback-данных не изменён (структура объекта та же, тип `correct` расширен до `number | number[]`)
- Для Google Sheets API фронтенд готов принимать массивы — серверный скрипт должен отправлять `correct: [0,1,2]`

## Баг COMPETENCIES
Проверено: ссылок на `COMPETENCIES` без `_CONFIG` нет. Фикс уже был в коммите 972458f ранее.

## Что не сделано / на потом
- [ ] Серверный скрипт Google Sheets — убедиться, что отправляет `correct` как массив для multi-choice вопросов
- [ ] Добавить больше multi-choice вопросов в контент (сейчас 3 из 81)
