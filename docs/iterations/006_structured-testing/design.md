# ะัะตัะฐัะธั 006 โ ะฃะฟัะฐะฒะปัะตะผะพะต ััััะบัััะธัะพะฒะฐะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต: ะััะธัะตะบัััะฐ ะธ ะะธะทะฐะนะฝ

> ะะฐัะฐ: 2026-02-11
> ะกัะฐััั: ะัะพะตะบัะธัะพะฒะฐะฝะธะต
> ะะฐะฒะธัะธะผะพััั: requirements.md (006)

---

## 1. ะะฑะทะพั ะฐััะธัะตะบัััั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะะกะขะะฃะะขะะ                            โ
โ  instructor/course-management.html                       โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโ โ
โ  โ ะััะฟะฟั   โ โ ะะพะดัะปะธ   โ โ ะกะตััะธะธ   โ โ ะกัะฐัััั    โ โ
โ  โ CRUD     โ โ ะพัะบัััั/ โ โ ัะตััะพะฒ   โ โ ะบัััะฐะฝัะพะฒ  โ โ
โ  โ          โ โ ะทะฐะบัััั  โ โ          โ โ            โ โ
โ  โโโโโโฌโโโโโโ โโโโโโฌโโโโโโ โโโโโโฌโโโโโโ โโโโโโโฌโโโโโโโ โ
โ       โ            โ            โ              โ         โ
โ       โโโโโโโโโโโโโโดโโโโโโโโโโโโโดโโโโโโโโโโโโโโโ         โ
โ                         โ                                โ
โ                    Supabase API                           โ
โ                         โ                                โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                          โ
              โโโโโโโโโโโโโดโโโโโโโโโโโโ
              โ      SUPABASE         โ
              โ  โโโโโโโโโโโโโโโโโโโ  โ
              โ  โ course_levels   โ  โ
              โ  โ student_groups  โ  โ
              โ  โ course_assign.  โ  โ
              โ  โ test_sessions   โ  โ
              โ  โ open_answers    โ  โ
              โ  โ student_results โ  โ
              โ  โ questions (ext) โ  โ
              โ  โโโโโโโโโโโโโโโโโโโ  โ
              โโโโโโโโโโโโโฌโโโโโโโโโโโโ
                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    ะะฃะะกะะะข                                โ
โ  ะะฐะฑะพัะฐั ัะตััะฐะดั (index.html + JS)                       โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโ  โ
โ  โ ะะพะธ      โ โ ะขะตัั ะฟะพ  โ โ ะัะบััััะต โ โ ะกัะตะฝะฐัะธะน   โ  โ
โ  โ ะผะพะดัะปะธ   โ โ ะผะพะดัะปั   โ โ ะฒะพะฟัะพัั  โ โ (ะฟะฐัะฐะณัะฐั  โ  โ
โ  โ (ะฝะฐะทะฝะฐั.)โ โ (MC)     โ โ (ะฝะพะฒัะน)  โ โ 3)         โ  โ
โ  โโโโโโโโโโโโ โโโโโโโโโโโโ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโ  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 2. ะกัะตะผะฐ ะฑะฐะทั ะดะฐะฝะฝัั

### 2.1 ะะพะฒัะต ัะฐะฑะปะธัั

```sql
-- ============================================================
-- ะัะตัะฐัะธั 006: ะกัััะบัััะธัะพะฒะฐะฝะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต โ SQL ะผะธะณัะฐัะธั
-- ============================================================

-- 1. ะฃัะพะฒะฝะธ ะบัััะพะฒ
-- ---------------------------------------------------------------
CREATE TABLE course_levels (
  id SERIAL PRIMARY KEY,
  level_number INT NOT NULL UNIQUE CHECK (level_number BETWEEN 1 AND 3),
  name TEXT NOT NULL,
  description TEXT,
  created_at TIMESTAMPTZ DEFAULT now()
);

COMMENT ON TABLE course_levels IS 'ะขัะธ ััะพะฒะฝั ะบัััะพะฒ: ะฑะฐะทะพะฒัะน, ะฑะพะตั-ัะฟะฐัะฐัะตะปั, ัะฐัะผะฐะบะพะปะพะณะธั';

INSERT INTO course_levels (level_number, name, description) VALUES
  (1, 'ะะฐะทะพะฒัะน ะบััั ัะฐะบัะธัะตัะบะพะน ะผะตะดะธัะธะฝั', 'TCCC (MARCH + PAWS). ะฃัะพะฒะตะฝั 1.'),
  (2, 'ะะพะตั-ัะฟะฐัะฐัะตะปั', 'ะขะฐะบัะธัะตัะบะธะน ะฐะบัะตะฝั. ะฃัะพะฒะตะฝั 2.'),
  (3, 'ะคะฐัะผะฐะบะพะปะพะณะธั ะธ ะพะฑัะฐะฑะพัะบะฐ ัะฐะฝ', 'ะฃะณะปัะฑะปัะฝะฝัะน ะบััั. ะฃัะพะฒะตะฝั 3.');


-- 2. ะกะฟัะฐะฒะพัะฝะธะบ ะผะพะดัะปะตะน ะบัััะฐ
-- ---------------------------------------------------------------
CREATE TABLE course_modules (
  id SERIAL PRIMARY KEY,
  module_number INT NOT NULL UNIQUE,
  block_number INT NOT NULL CHECK (block_number BETWEEN 1 AND 4),
  block_name TEXT NOT NULL,
  module_name TEXT NOT NULL,
  description TEXT,
  sort_order INT NOT NULL DEFAULT 0
);

COMMENT ON TABLE course_modules IS 'ะกะฟัะฐะฒะพัะฝะธะบ ะผะพะดัะปะตะน: 20+ ะผะพะดัะปะตะน ะฒ 4 ะฑะปะพะบะฐั';

INSERT INTO course_modules (module_number, block_number, block_name, module_name, description, sort_order) VALUES
  (1,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะฐะทะพะฒัะต ะฟะพะฝััะธั, ADME, ะดะพะทะธัะพะฒะบะธ', 1),
  (2,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะฝัะธะฑะฐะบัะตัะธะฐะปัะฝะฐั ัะตัะฐะฟะธั', 'ะัะฑะพั ะฐะฝัะธะฑะธะพัะธะบะพะฒ ะฒ ะฟะพะปะต', 2),
  (3,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะฝัะธะณะธััะฐะผะธะฝะฝัะต ะฟัะตะฟะฐัะฐัั', 'ะั ะบัะฐะฟะธะฒะฝะธัั ะดะพ ะฐะฝะฐัะธะปะฐะบัะธะธ', 3),
  (4,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะปะฐะทะฝัะต ะธ ััะฝัะต ะธะฝัะตะบัะธะธ', 'ะัะพัะพะบะพะปั ะปะตัะตะฝะธั', 4),
  (5,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะธัััะฝัะต ะธะฝัะตะบัะธะธ (ะะะะ)', 'ะะธะฐะณะฝะพััะธะบะฐ ะธ ัะตัะฐะฟะธั', 5),
  (6,  1, 'ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั', 'ะะะะก', 'ะฃะฟัะฐะฒะปะตะฝะธะต ะฑะพะปัั ะธ ะฒะพัะฟะฐะปะตะฝะธะตะผ', 6),
  (7,  2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะปัะบะพะบะพััะธะบะพััะตัะพะธะดั', 'ะั ะฐะปะปะตัะณะธะธ ะดะพ ัะพะบะฐ', 7),
  (8,  2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะดัะตะฝะฐะปะธะฝ', 'ะัะตะฟะฐัะฐั โ1 ะฒ ัะบัััะตะฝะฝะพะน ะผะตะดะธัะธะฝะต', 8),
  (9,  2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะกะฟะฐะทะผะพะปะธัะธะบะธ', 'ะััััะน ะถะธะฒะพั ะธ ะบะพะปะธะบะธ', 9),
  (10, 2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะจะพะบ', 'ะะปะฐััะธัะธะบะฐัะธั ะธ ะฟัะพัะพะบะพะปั', 10),
  (11, 2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะฝััะทะธะพะฝะฝะฐั ัะตัะฐะฟะธั', 'ะฃะฟัะฐะฒะปะตะฝะธะต ะพะฑััะผะพะผ', 11),
  (12, 2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะฝัะธะดะพัั', 'ะกะฟะตัะธัะธัะตัะบะฐั ัะตัะฐะฟะธั ะพััะฐะฒะปะตะฝะธะน', 12),
  (13, 2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะฝะฐะปัะณะตะทะธั', 'ะะตััะฝะธัะฐ ะพะฑะตะทะฑะพะปะธะฒะฐะฝะธั ะะะ', 13),
  (14, 3, 'ะะตะพัะปะพะถะฝัะต ัะพััะพัะฝะธั', 'ะกะตะฟัะธัะตัะบะธะน ัะพะบ', 'ะะฐะฝะฝัั ะดะธะฐะณะฝะพััะธะบะฐ ะธ ัะตัะฐะฟะธั', 14),
  (15, 3, 'ะะตะพัะปะพะถะฝัะต ัะพััะพัะฝะธั', 'ะะปะตัะตะฒัะต ะธะฝัะตะบัะธะธ', 'ะัะพัะธะปะฐะบัะธะบะฐ ะธ ะปะตัะตะฝะธะต', 15),
  (16, 3, 'ะะตะพัะปะพะถะฝัะต ัะพััะพัะฝะธั', 'ะะตัะตะฝััะฒะพ', 'ะัะพัะพะบะพะป ะฟะพัััะบัะฟะพะทะธัะธะพะฝะฝะพะน ะฟัะพัะธะปะฐะบัะธะบะธ', 16),
  (17, 3, 'ะะตะพัะปะพะถะฝัะต ัะพััะพัะฝะธั', 'ะะฝัะฐัะบั ะธ ะธะฝััะปัั', 'FAST ะธ ะฟะตัะฒะฐั ะฟะพะผะพัั', 17),
  (18, 3, 'ะะตะพัะปะพะถะฝัะต ัะพััะพัะฝะธั', 'ะะตัะพะบัะธะบะฐัะธั', 'ะะตัะพะดั ะธ ะฟัะตะฟะฐัะฐัั', 18),
  (19, 4, 'ะะพะตะฒะฐั ััะฐะฒะผะฐ', 'ะะณะฝะตัััะตะปัะฝัะต ัะฐะฝั', 'ะัะพะฑะตะฝะฝะพััะธ ัะฐัะผะฐะบะพัะตัะฐะฟะธะธ', 19),
  (20, 4, 'ะะพะตะฒะฐั ััะฐะฒะผะฐ', 'ะะถะพะณะธ', 'ะะฐัััั ะธะฝััะทะธะธ, ะฐะฝะฐะปัะณะตะทะธั, ะผะตััะฝะพะต ะปะตัะตะฝะธะต', 20),
  (21, 2, 'ะกะฟะตัะธะฐะปัะฝัะต ะฟัะตะฟะฐัะฐัั ะธ ะบัะธัะธัะตัะบะธะต ัะพััะพัะฝะธั', 'ะะพะฟะพะปะฝะธัะตะปัะฝัะน ะผะพะดัะปั', '', 21);


-- 3. ะััะฟะฟั ะบัััะฐะฝัะพะฒ
-- ---------------------------------------------------------------
CREATE TABLE student_groups (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  group_code TEXT NOT NULL UNIQUE,  -- ัะพะฒะผะตััะธะผะพััั ั Google Sheets (PHARMA-0126)
  name TEXT NOT NULL,
  course_level_id INT REFERENCES course_levels(id),
  instructor_name TEXT,  -- ัะพะฒะผะตััะธะผะพััั ั GSheets (ะัะตะฟะพะดะฐะฒะฐัะตะปั ะะฒััะฝะฝะธะบะพะฒ)
  max_cadets INT DEFAULT 30,
  is_active BOOLEAN DEFAULT true,
  created_by UUID REFERENCES auth.users(id),
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

COMMENT ON TABLE student_groups IS 'ะััะฟะฟั ะบัััะฐะฝัะพะฒ. ะกะพะฒะผะตััะธะผะพััั ั GSheets: group_code, instructor_name';


-- 4. ะะฐะทะฝะฐัะตะฝะธั ะผะพะดัะปะตะน ะณััะฟะฟะฐะผ (ะบะฐะบะธะต ะผะพะดัะปะธ ะพัะบัััั)
-- ---------------------------------------------------------------
CREATE TABLE course_assignments (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  group_id UUID NOT NULL REFERENCES student_groups(id) ON DELETE CASCADE,
  module_id INT NOT NULL REFERENCES course_modules(id),
  status TEXT NOT NULL DEFAULT 'closed' CHECK (status IN ('closed', 'open', 'completed')),
  opened_at TIMESTAMPTZ,
  closed_at TIMESTAMPTZ,
  opened_by UUID REFERENCES auth.users(id),
  UNIQUE(group_id, module_id)
);

COMMENT ON TABLE course_assignments IS 'ะะฐะบะธะต ะผะพะดัะปะธ ะพัะบัััั/ะทะฐะบัััั ะดะปั ะบะฐะบะพะน ะณััะฟะฟั';


-- 5. ะขะตััะพะฒัะต ัะตััะธะธ
-- ---------------------------------------------------------------
CREATE TABLE test_sessions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  group_id UUID NOT NULL REFERENCES student_groups(id) ON DELETE CASCADE,
  session_type TEXT NOT NULL CHECK (session_type IN ('entrance', 'module', 'final')),
  title TEXT NOT NULL,
  module_id INT REFERENCES course_modules(id),  -- NULL ะดะปั ะฒัะพะดะฝะพะณะพ/ัะธะฝะฐะปัะฝะพะณะพ
  status TEXT NOT NULL DEFAULT 'draft' CHECK (status IN ('draft', 'active', 'closed')),
  created_by UUID REFERENCES auth.users(id),
  created_at TIMESTAMPTZ DEFAULT now(),
  activated_at TIMESTAMPTZ,
  closed_at TIMESTAMPTZ
);

COMMENT ON TABLE test_sessions IS 'ะกะตััะธะธ ัะตััะธัะพะฒะฐะฝะธั: ะฒัะพะดะฝะพะน/ะผะพะดัะปัะฝัะน/ัะธะฝะฐะปัะฝัะน';
COMMENT ON COLUMN test_sessions.module_id IS 'ะะปั ะผะพะดัะปัะฝัั ัะตััะพะฒ โ ะบะพะฝะบัะตัะฝัะน ะผะพะดัะปั. NULL ะดะปั ะฒัะพะดะฝะพะณะพ/ัะธะฝะฐะปัะฝะพะณะพ.';


-- 6. ะัะธะฒัะทะบะฐ ะผะพะดัะปะตะน ะบ ัะตััะพะฒะพะน ัะตััะธะธ (ะดะปั ะฒัะพะดะฝะพะณะพ/ัะธะฝะฐะปัะฝะพะณะพ โ ะฝะตัะบะพะปัะบะพ ะผะพะดัะปะตะน)
-- ---------------------------------------------------------------
CREATE TABLE test_session_modules (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  session_id UUID NOT NULL REFERENCES test_sessions(id) ON DELETE CASCADE,
  module_id INT NOT NULL REFERENCES course_modules(id),
  UNIQUE(session_id, module_id)
);

COMMENT ON TABLE test_session_modules IS 'ะะฐะบะธะต ะผะพะดัะปะธ ะฒะบะปััะตะฝั ะฒ ัะตััะพะฒัั ัะตััะธั';


-- 7. ะะฐะดะฐะฝะธั ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ
-- ---------------------------------------------------------------
CREATE TABLE open_answer_questions (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  module_id INT REFERENCES course_modules(id),
  text TEXT NOT NULL,
  answer_template JSONB DEFAULT '[]',
  reference_answer TEXT,
  difficulty INT DEFAULT 1 CHECK (difficulty BETWEEN 1 AND 3),
  question_subtype TEXT DEFAULT 'explanation' 
    CHECK (question_subtype IN ('explanation', 'calculation', 'scheme', 'listing')),
  sort_order INT DEFAULT 0,
  created_by UUID REFERENCES auth.users(id),
  created_at TIMESTAMPTZ DEFAULT now(),
  updated_at TIMESTAMPTZ DEFAULT now()
);

COMMENT ON TABLE open_answer_questions IS 'ะะฐะดะฐะฝะธั ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ';
COMMENT ON COLUMN open_answer_questions.answer_template IS 
  'ะกัััะบัััะฐ ะพัะฒะตัะฐ: [{label: "ะัะธัะธะฝะฐ 1", type: "textarea"}, {label: "ะะฐัััั", type: "textarea"}, ...]';
COMMENT ON COLUMN open_answer_questions.reference_answer IS 'ะญัะฐะปะพะฝะฝัะน ะพัะฒะตั (ัะพะปัะบะพ ะดะปั ะธะฝััััะบัะพัะฐ)';
COMMENT ON COLUMN open_answer_questions.question_subtype IS 
  'explanation=ะพะฑัััะฝะตะฝะธะต, calculation=ัะฐัััั, scheme=ััะตะผะฐ ะพัะผะตะฝั, listing=ะฟะตัะตัะธัะปะตะฝะธะต';


-- 8. ะะตะทัะปััะฐัั ะฟัะพัะพะถะดะตะฝะธั ัะตััะพะฒ (multiple choice)
-- ---------------------------------------------------------------
CREATE TABLE student_test_results (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  session_id UUID REFERENCES test_sessions(id),
  cadet_id TEXT NOT NULL,  -- ัะพัะผะฐั: CMK48HI0HC44Q (ัะพะฒะผะตััะธะผะพััั ั GSheets)
  group_id UUID NOT NULL REFERENCES student_groups(id),
  question_id UUID NOT NULL REFERENCES questions(id),
  selected_option INT,
  is_correct BOOLEAN,
  answered_at TIMESTAMPTZ DEFAULT now()
);

COMMENT ON TABLE student_test_results IS 'ะัะฒะตัั ะบัััะฐะฝัะพะฒ ะฝะฐ MC ะฒะพะฟัะพัั. cadet_id ัะพะฒะผะตััะธะผ ั GSheets';


-- 9. ะะตะทัะปััะฐัั ัะฐะทะฒััะฝัััั ะพัะฒะตัะพะฒ
-- ---------------------------------------------------------------
CREATE TABLE student_open_answers (
  id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
  session_id UUID REFERENCES test_sessions(id),
  cadet_id TEXT NOT NULL,  -- ัะพัะผะฐั: CMK48HI0HC44Q
  group_id UUID NOT NULL REFERENCES student_groups(id),
  question_id UUID NOT NULL REFERENCES open_answer_questions(id),
  answers JSONB DEFAULT '{}',
  instructor_grade TEXT CHECK (instructor_grade IN ('accepted', 'needs_work', NULL)),
  instructor_comment TEXT,
  answered_at TIMESTAMPTZ DEFAULT now(),
  graded_at TIMESTAMPTZ
);

COMMENT ON TABLE student_open_answers IS 'ะัะฒะตัั ะบัััะฐะฝัะพะฒ ะฝะฐ ัะฐะทะฒััะฝัััะต ะฒะพะฟัะพัั';
COMMENT ON COLUMN student_open_answers.answers IS 'JSON ั ะพัะฒะตัะฐะผะธ: {field_0: "ัะตะบัั", field_1: "ัะฐัััั", ...}';


-- 10. ะะฐััะธัะตะฝะธะต ัะฐะฑะปะธัั questions
-- ---------------------------------------------------------------
-- ะะพะฑะฐะฒะปัะตะผ ะฟะพะปะต module_id ะตัะปะธ ะตะณะพ ะฝะตั
DO $$
BEGIN
  IF NOT EXISTS (
    SELECT 1 FROM information_schema.columns 
    WHERE table_name = 'questions' AND column_name = 'module_id'
  ) THEN
    ALTER TABLE questions ADD COLUMN module_id INT REFERENCES course_modules(id);
  END IF;
END $$;

COMMENT ON COLUMN questions.module_id IS 'FK ะฝะฐ course_modules โ ะฟัะธะฒัะทะบะฐ ะฒะพะฟัะพัะฐ ะบ ะผะพะดัะปั';


-- 11. ะขัะธะณะณะตัั updated_at
-- ---------------------------------------------------------------
CREATE TRIGGER student_groups_updated_at
  BEFORE UPDATE ON student_groups
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();

CREATE TRIGGER open_answer_questions_updated_at
  BEFORE UPDATE ON open_answer_questions
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();


-- 12. ะะฝะดะตะบัั
-- ---------------------------------------------------------------
CREATE INDEX idx_course_assignments_group ON course_assignments(group_id);
CREATE INDEX idx_test_sessions_group ON test_sessions(group_id);
CREATE INDEX idx_student_results_session ON student_test_results(session_id);
CREATE INDEX idx_student_results_student ON student_test_results(cadet_id, group_id);
CREATE INDEX idx_student_open_answers_session ON student_open_answers(session_id);
CREATE INDEX idx_questions_module ON questions(module_id);
```

### 2.2 RLS ะฟะพะปะธัะธะบะธ

```sql
-- ============================================================
-- RLS ะฟะพะปะธัะธะบะธ ะดะปั ะธัะตัะฐัะธะธ 006
-- ============================================================

-- course_levels: ะฒัะต ะผะพะณัั ัะธัะฐัั
ALTER TABLE course_levels ENABLE ROW LEVEL SECURITY;
CREATE POLICY "course_levels_read" ON course_levels FOR SELECT USING (true);

-- course_modules: ะฒัะต ะผะพะณัั ัะธัะฐัั
ALTER TABLE course_modules ENABLE ROW LEVEL SECURITY;
CREATE POLICY "course_modules_read" ON course_modules FOR SELECT USING (true);

-- student_groups: ะธะฝััััะบัะพั ัะฟัะฐะฒะปัะตั, ะฒัะต ัะธัะฐัั
ALTER TABLE student_groups ENABLE ROW LEVEL SECURITY;
CREATE POLICY "student_groups_read" ON student_groups FOR SELECT USING (true);
CREATE POLICY "student_groups_manage" ON student_groups FOR ALL USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);

-- course_assignments: ะธะฝััััะบัะพั ัะฟัะฐะฒะปัะตั, ะฒัะต ัะธัะฐัั
ALTER TABLE course_assignments ENABLE ROW LEVEL SECURITY;
CREATE POLICY "course_assignments_read" ON course_assignments FOR SELECT USING (true);
CREATE POLICY "course_assignments_manage" ON course_assignments FOR ALL USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);

-- test_sessions: ะธะฝััััะบัะพั ัะฟัะฐะฒะปัะตั, ะฒัะต ัะธัะฐัั
ALTER TABLE test_sessions ENABLE ROW LEVEL SECURITY;
CREATE POLICY "test_sessions_read" ON test_sessions FOR SELECT USING (true);
CREATE POLICY "test_sessions_manage" ON test_sessions FOR ALL USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);

-- test_session_modules: ะธะฝััััะบัะพั ัะฟัะฐะฒะปัะตั, ะฒัะต ัะธัะฐัั
ALTER TABLE test_session_modules ENABLE ROW LEVEL SECURITY;
CREATE POLICY "test_session_modules_read" ON test_session_modules FOR SELECT USING (true);
CREATE POLICY "test_session_modules_manage" ON test_session_modules FOR ALL USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);

-- open_answer_questions: ะธะฝััััะบัะพั ัะฟัะฐะฒะปัะตั, ะฒัะต ัะธัะฐัั
ALTER TABLE open_answer_questions ENABLE ROW LEVEL SECURITY;
CREATE POLICY "open_answer_questions_read" ON open_answer_questions FOR SELECT USING (true);
CREATE POLICY "open_answer_questions_manage" ON open_answer_questions FOR ALL USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);

-- student_test_results: ะฒัะต ะผะพะณัั ะฒััะฐะฒะปััั ะธ ัะธัะฐัั ัะฒะพะธ
ALTER TABLE student_test_results ENABLE ROW LEVEL SECURITY;
CREATE POLICY "student_results_insert" ON student_test_results FOR INSERT WITH CHECK (true);
CREATE POLICY "student_results_read" ON student_test_results FOR SELECT USING (true);

-- student_open_answers: ะฒัะต ะผะพะณัั ะฒััะฐะฒะปััั, ะธะฝััััะบัะพั ะผะพะถะตั ะพะฑะฝะพะฒะปััั (grading)
ALTER TABLE student_open_answers ENABLE ROW LEVEL SECURITY;
CREATE POLICY "student_open_answers_insert" ON student_open_answers FOR INSERT WITH CHECK (true);
CREATE POLICY "student_open_answers_read" ON student_open_answers FOR SELECT USING (true);
CREATE POLICY "student_open_answers_grade" ON student_open_answers FOR UPDATE USING (
  auth.jwt() ->> 'role' = 'instructor' 
  OR (auth.jwt() -> 'user_metadata' ->> 'role') = 'instructor'
);
```

---

## 3. API โ ะบะปััะตะฒัะต ะทะฐะฟัะพัั

### 3.1 ะกัะพัะพะฝะฐ ะบัััะฐะฝัะฐ

```javascript
// ะะพะปััะธัั ะพัะบััััะต ะผะพะดัะปะธ ะดะปั ะณััะฟะฟั
const { data: assignments } = await supabase
  .from('course_assignments')
  .select('*, course_modules(*)')
  .eq('group_id', groupId)
  .eq('status', 'open');

// ะะพะปััะธัั ะฒะพะฟัะพัั multiple choice ะฟะพ ะผะพะดัะปั
const { data: questions } = await supabase
  .from('questions')
  .select('*')
  .eq('module_id', moduleId);

// ะะพะปััะธัั ะทะฐะดะฐะฝะธั ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ ะฟะพ ะผะพะดัะปั
const { data: openQuestions } = await supabase
  .from('open_answer_questions')
  .select('*')
  .eq('module_id', moduleId)
  .order('sort_order');

// ะกะพััะฐะฝะธัั ะพัะฒะตั ะฝะฐ MC ะฒะพะฟัะพั
await supabase.from('student_test_results').insert({
  session_id, cadet_id, group_id, question_id, 
  selected_option, is_correct
});

// ะกะพััะฐะฝะธัั ัะฐะทะฒััะฝัััะน ะพัะฒะตั
await supabase.from('student_open_answers').insert({
  session_id, cadet_id, group_id, question_id, answers: { field_0: '...', field_1: '...' }
});
```

### 3.2 ะกัะพัะพะฝะฐ ะธะฝััััะบัะพัะฐ

```javascript
// ะกะพะทะดะฐัั ะณััะฟะฟั
await supabase.from('student_groups').insert({
  name: 'ะคะฐัะผะฐะบะพะปะพะณะธั-2025', course_level_id: 3
});

// ะัะบัััั ะผะพะดัะปั ะดะปั ะณััะฟะฟั
await supabase.from('course_assignments').upsert({
  group_id, module_id, status: 'open', opened_at: new Date().toISOString()
});

// ะกะพะทะดะฐัั ัะตััะพะฒัั ัะตััะธั
const { data: session } = await supabase.from('test_sessions').insert({
  group_id, session_type: 'module', title: 'ะะพะดัะปั 1 โ ัะตัั', 
  module_id: 1, status: 'active'
}).select().single();

// ะะพะปััะธัั ััะฐััั ะฟัะพัะพะถะดะตะฝะธั ะณััะฟะฟั
const { data: results } = await supabase
  .from('student_test_results')
  .select('cadet_id, is_correct, question_id')
  .eq('group_id', groupId)
  .eq('session_id', sessionId);
```

---

## 4. UI โ ะพะฟะธัะฐะฝะธะต ัะบัะฐะฝะพะฒ

### 4.1 ะัััะฐะฝั: ะฒัะฑะพั ะผะพะดัะปั (ะทะฐะผะตะฝะฐ ัะตะบััะตะณะพ test-selector.js)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ะะพะธ ะผะพะดัะปะธ                 ะััะฟะฟะฐ: ะคะ-25โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ                                             โ
โ  ะะะะ I: ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั           โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ โ ะะพะดัะปั 1: ะคะฐัะผ. ะพัะฝะพะฒั  [90%]   โ    โ
โ  โ ๐ต ะะพะดัะปั 2: ะะฝัะธะฑะธะพัะธะบะธ   [ะฝะพะฒัะน] โ    โ
โ  โ ๐ ะะพะดัะปั 3: ะะฝัะธะณะธััะฐะผะธะฝะฝัะต       โ    โ
โ  โ ๐ ะะพะดัะปั 4: ะะปะฐะทะฝัะต/ััะฝัะต         โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                             โ
โ  ะะะะ II: (ะทะฐะบััั)                          โ
โ  ๐ ะะพะดัะปะธ 7โ13                             โ
โ                                             โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

ะกัะฐัััั ะผะพะดัะปั: ๐ ะทะฐะบััั โ ๐ต ะฝะพะฒัะน (ะฝะฐะทะฝะฐัะตะฝ) โ ๐ก ะฒ ะฟัะพัะตััะต โ โ ะทะฐะฒะตัััะฝ โ ๐ ะฟะพะฒัะพัะฝัะน

### 4.2 ะัััะฐะฝั: ัะตัั ะฟะพ ะผะพะดัะปั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ะะฐะทะฐะด    ะะพะดัะปั 1: ะคะฐัะผ. ะพัะฝะพะฒั         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ๐ ะะฐัะฐะณัะฐั 2: ะะฐะฑะพัะฐั ัะตััะฐะดั            โ
โ                                             โ
โ  โโ Multiple Choice (5 ะธะท 12) โโ            โ
โ  ะะพะฟัะพั 5:                                  โ
โ  ะะฐะบะพะน ะฟััั ะฒะฒะตะดะตะฝะธั ะพะฑะตัะฟะตัะธะฒะฐะตั           โ
โ  100% ะฑะธะพะดะพัััะฟะฝะพััั?                       โ
โ                                             โ
โ  โ ะะตัะพัะฐะปัะฝัะน                              โ
โ  โ ะะฝัััะธะฒะตะฝะฝัะน                             โ
โ  โ ะะฝัััะธะผััะตัะฝัะน                           โ
โ  โ ะะพะดะบะพะถะฝัะน                                โ
โ                                             โ
โ  [โ ะัะตะดัะดััะธะน]  [ะกะปะตะดัััะธะน โ]              โ
โ                                             โ
โ  โโ ะะฐะดะฐะฝะธั ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ โโ        โ
โ  โฌ ะะฐะดะฐะฝะธะต 1: ะะฐัััั ะดะพะทั ะฟัะตะดะฝะธะทะพะปะพะฝะฐ     โ
โ  โฌ ะะฐะดะฐะฝะธะต 2: ะัะธัะธะฝั ะทะฐะฟัะตัะฐ ะฒ/ะผ ะฟัะธ ัะพะบะต โ
โ                                             โ
โ  โโ ะะฐัะฐะณัะฐั 3: ะะปะธะฝะธัะตัะบะธะน ััะตะฝะฐัะธะน โโ     โ
โ  โฌ ะกัะตะฝะฐัะธะน: ะะฝะฐัะธะปะฐะบัะธั ะฒ ะฟะพะปะต            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4.3 ะัััะฐะฝั: ะทะฐะดะฐะฝะธะต ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ ะะฐะทะฐะด    ะะฐะดะฐะฝะธะต 1                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะะฐัััั ะฝะฐะณััะทะพัะฝะพะน ะดะพะทั ะฟัะตะดะฝะธะทะพะปะพะฝะฐ       โ
โ  ะฟัะธ ะฐะฝะฐัะธะปะฐะบัะธัะตัะบะพะผ ัะพะบะต:                 โ
โ                                             โ
โ  ะััะพะดะฝัะต ะดะฐะฝะฝัะต:                           โ
โ  โข ะะตั ะฟะฐัะธะตะฝัะฐ: 75 ะบะณ                      โ
โ  โข ะคะพัะผัะปะฐ: 1.5โ2 ะผะณ/ะบะณ                     โ
โ                                             โ
โ  ะะฐัััั:                                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                                     โ    โ
โ  โ                                     โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                             โ
โ  ะัะพะณะพะฒะฐั ะดะพะทะฐ:                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ  โ                                     โ    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    โ
โ                                             โ
โ  [ะกะพััะฐะฝะธัั ะพัะฒะตั]                          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### 4.4 ะะฝััััะบัะพั: ัะฟัะฐะฒะปะตะฝะธะต ะบัััะพะผ (ะฝะพะฒะฐั ัััะฐะฝะธัะฐ)

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ะฃะฟัะฐะฒะปะตะฝะธะต ะบัััะพะผ                       โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ  ะััะฟะฟะฐ: [ะคะฐัะผะฐะบะพะปะพะณะธั-2025 โผ] [+ ะะพะฒะฐั]   โ
โ  ะฃัะพะฒะตะฝั: 3 โ ะคะฐัะผะฐะบะพะปะพะณะธั ะธ ะพะฑัะฐะฑะพัะบะฐ ัะฐะฝ  โ
โ                                             โ
โ  โโ ะะะะ I: ะคะฐัะผะฐะบะพะปะพะณะธัะตัะบะธะต ะพัะฝะพะฒั โโ     โ
โ  โ ะะพะดัะปั 1 โ โ ะัะบััั โ 12 ะฒะพะฟั โ [ะะฐะบัััั] โ
โ  โ ะะพะดัะปั 2 โ โ ะัะบััั โ  8 ะฒะพะฟั โ [ะะฐะบัััั] โ
โ  โ ะะพะดัะปั 3 โ ๐ ะะฐะบััั โ 10 ะฒะพะฟั โ [ะัะบัััั] โ
โ  โ ...                                      โ
โ                                             โ
โ  โโ ะะะะ II: ะกะฟะตั.ะฟัะตะฟะฐัะฐัั โโ              โ
โ  โ [ะัะบัััั ะฒะตัั ะฑะปะพะบ]                      โ
โ  โ ะะพะดัะปั 7  โ ๐ โ 6 ะฒะพะฟั โ [ะัะบัััั]     โ
โ  โ ...                                      โ
โ                                             โ
โ  โโ ะขะตััะพะฒัะต ัะตััะธะธ โโ                      โ
โ  โ ๐ ะัะพะดะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต โ ะะบัะธะฒะฝะฐ โ 15/20 โ
โ  โ ๐ ะะพะดัะปั 1 โ ัะตัั      โ ะะฐะฒะตััะตะฝะฐโ 20/20โ
โ  โ [+ ะกะพะทะดะฐัั ัะตััะธั]                       โ
โ                                             โ
โ  โโ ะกัะฐััั ะบัััะฐะฝัะพะฒ โโ                     โ
โ  โ ะะฒะฐะฝะพะฒ  โ ะะพะด.1: 90% โ ะะพะด.2: ะฒ ะฟัะพั.   โ
โ  โ ะะตััะพะฒ  โ ะะพะด.1: 75% โ ะะพะด.2: ะฝะต ะฝะฐัะฐั   โ
โ  โ ะกะธะดะพัะพะฒ โ ะะพะด.1: 60% โ [ะะฐะทะฝะฐัะธัั ะฟะพะฒัะพั]โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## 5. ะะปััะตะฒัะต ัะฐะนะปั ะฟัะพะตะบัะฐ (ะธะทะผะตะฝะตะฝะธั)

### ะะพะฒัะต ัะฐะนะปั:
```
instructor/
  course-management.html       โ ัััะฐะฝะธัะฐ ัะฟัะฐะฒะปะตะฝะธั ะบัััะพะผ
  js/course-management.js      โ ะปะพะณะธะบะฐ ัะฟัะฐะฒะปะตะฝะธั (ะณััะฟะฟั, ะผะพะดัะปะธ, ัะตััะธะธ)

js/
  module-selector.js           โ ะทะฐะผะตะฝะฐ test-selector.js (ะฒัะฑะพั ะผะพะดัะปั ะบัััะฐะฝัะพะผ)
  module-test.js               โ ัะตัั ะฟะพ ะผะพะดัะปั (MC + open answer)
  open-answer-ui.js            โ UI ะดะปั ะทะฐะดะฐะฝะธะน ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ
  course-data.js               โ ะทะฐะณััะทะบะฐ ะดะฐะฝะฝัั ะบัััะฐ (ะผะพะดัะปะธ, ะฝะฐะทะฝะฐัะตะฝะธั)
```

### ะะพะดะธัะธัะธััะตะผัะต ัะฐะนะปั:
```
js/test-selector.js            โ ัะตัะฐะบัะพัะธะฝะณ โ ะดะตะปะตะณะธัะพะฒะฐะฝะธะต ะฒ module-selector.js
js/competency-progress.js      โ ัะฐััะธัะตะฝะธะต: ะฟัะพะณัะตัั ะฟะพ ะผะพะดัะปัะผ
index.html                     โ ะธะฝัะตะณัะฐัะธั ะฝะพะฒะพะณะพ UI ะผะพะดัะปะตะน
instructor/index.html           โ ัััะปะบะฐ ะฝะฐ course-management
```

---

## 6. ะะดะตะฝัะธัะธะบะฐัะธั ะบัััะฐะฝัะฐ

### ะกััะตััะฒัััะฐั ัะธััะตะผะฐ (Google Sheets)
ะ Google Sheets **ัะถะต ัะฐะฑะพัะฐะตั** PIN-ะฐะฒัะพัะธะทะฐัะธั:
- ะัััะฐะฝั ะฟะพะปััะฐะตั `cadet_id` (ัะพัะผะฐั: `CMK48HI0HC44Q`) ะธ `pin_code` (4 ัะธััั)
- ะัััะฐะฝั ะฒัะพะดะธั ะฟะพ `group_code` + `pin_code` ะธะปะธ `cadet_id` + `pin_code`
- ะัะพะณัะตัั ััะฐะฝะธััั ะฒ ัะพัะผะฐัะต JSON (progress_matrix) ั ะฟัะธะฒัะทะบะพะน ะบ `cadet_id`

### ะกััะฐัะตะณะธั ะดะปั ะธัะตัะฐัะธะธ 006
**ะกะพััะฐะฝัะตะผ ัััะตััะฒััััั ัะธััะตะผั ะฐะฒัะพัะธะทะฐัะธะธ.** ะะต ะผะตะฝัะตะผ ะธ ะฝะต ะปะพะผะฐะตะผ.

ะะพะฒัะต ัะฐะฑะปะธัั (`student_test_results`, `student_open_answers`) ะธัะฟะพะปัะทััั `cadet_id` ะธะท ัััะตััะฒัััะตะน ัะธััะตะผั. ะญัะพ ะพะฑะตัะฟะตัะธะฒะฐะตั:
1. ะกะพะฒะผะตััะธะผะพััั ั ัะตะบััะธะผ ะฟัะพะณัะตััะพะผ ะฒ Google Sheets
2. ะะดะธะฝัะน ะธะดะตะฝัะธัะธะบะฐัะพั ะบัััะฐะฝัะฐ ะฒะพ ะฒัะตั ัะธััะตะผะฐั
3. ะะพะทะผะพะถะฝะพััั ัะฒัะทะฐัั ััะฐััะต ะธ ะฝะพะฒัะต ัะตะทัะปััะฐัั ะฟัะธ ะผะธะณัะฐัะธะธ

### ะกััะตััะฒัััะธะต ะดะฐะฝะฝัะต (ะธะท Google Sheets)
```
ะััะฟะฟะฐ: PHARMA-0126 | ะะฝััััะบัะพั: ะะฒััะฝะฝะธะบะพะฒ | max: 30
ะัััะฐะฝัั:
  CMK48HI0HC44Q | ะะณะพัั | PIN: 4454
  CMK4A69J300L1 | ะะปัั  | PIN: 4904
```

### ะกััะตััะฒัััะธะน ัะพัะผะฐั ะฟัะพะณัะตััะฐ
```json
{
  "PHARMACOLOGY_BASICS": {
    "diagnostic": 0,
    "sections": {"1": null, "2": null, "3": null, "4": null},
    "final": null
  },
  "HEMOSTASIS": { ... },
  ...
}
```
ะะพะฒัะต ัะตะทัะปััะฐัั ะผะพะดัะปัะฝัั ัะตััะพะฒ ัะพััะฐะฝััััั ะฒ `student_test_results` (Supabase), ะฝะพ ะะ ะปะพะผะฐัั ัััะตััะฒััััั `progress_matrix`.

---

## 7. ะะฐะฟะฟะธะฝะณ ะฒะพะฟัะพัะพะฒ ะฟะพ ะผะพะดัะปัะผ

### ะะตะทัะปััะฐัั ะฐัะดะธัะฐ

**81 ะธะท 88 ะฒะพะฟัะพัะพะฒ** ัะถะต ะธะผะตัั ัะธัะปะพะฒะพะน `module` (1โ20) ะฒ Google Sheets. ะะฐะฟะฟะธะฝะณ ััะธะฒะธะฐะปัะฝัะน.

**7 ะฒะพะฟัะพัะพะฒ [SB]** (ะธะท Supabase) โ ะฒัะต ะพัะฝะพััััั ะบ PHARMACOLOGY_BASICS โ ะะพะดัะปั 1:
- 2 ะฒะพะฟัะพัะฐ ั ะฟััััะผ `module` + ะบะพะผะฟะตัะตะฝัะธั PHARMACOLOGY_BASICS
- 5 ะฒะพะฟัะพัะพะฒ ั `module = "ะคะะะะะะะะะะะงะะกะะะ ะะกะะะะซ"` + ะบะพะผะฟะตัะตะฝัะธั PHARMACOLOGY_BASICS ะธะปะธ ะฟัััะพ

**ะกะฒัะทั ะะพะดัะปั โ ะะพะผะฟะตัะตะฝัะธั โ ัััะพะณะพ 1:1:**
```
ะะพะดัะปั 1  โ BASE_PHARMA          ะะพะดัะปั 11 โ INFUSION_THERAPY
ะะพะดัะปั 2  โ ANTIBIOTICS           ะะพะดัะปั 12 โ ANTIDOTES
ะะพะดัะปั 3  โ ANTIHISTAMINES        ะะพะดัะปั 13 โ ANALGESIA
ะะพะดัะปั 4  โ EYE_EAR_INFECTIONS    ะะพะดัะปั 14 โ SEPTIC_SHOCK
ะะพะดัะปั 5  โ VIRAL_INFECTIONS      ะะพะดัะปั 15 โ TICK_INFECTIONS
ะะพะดัะปั 6  โ NSAID                 ะะพะดัะปั 16 โ RABIES
ะะพะดัะปั 7  โ GLUCOCORTICOIDS       ะะพะดัะปั 17 โ CARDIAC_STROKE
ะะพะดัะปั 8  โ ADRENALINE            ะะพะดัะปั 18 โ DETOX
ะะพะดัะปั 9  โ SPASMOLITICA          ะะพะดัะปั 19 โ GUNSHOT_WOUNDS
ะะพะดัะปั 10 โ HEMORRHAGIC_SHOCK     ะะพะดัะปั 20 โ BURNS
```

**ะะฐะทะดะตะปั โ ะะปะพะบะธ** (ะฒะฐะถะฝะพ!):
```
ะะฐะทะดะตะป 1 โ ะะพะดัะปะธ 1-5   (ะะปะพะบ I, ะบัะพะผะต ะผะพะด.6)
ะะฐะทะดะตะป 2 โ ะะพะดัะปะธ 6-9   (ะะปะพะบ I ะผะพะด.6 + ะะปะพะบ II ะผะพะด.7-9)
ะะฐะทะดะตะป 3 โ ะะพะดัะปะธ 10-12, 14-15  (ะะปะพะบ II + ะะปะพะบ III)
ะะฐะทะดะตะป 4 โ ะะพะดัะปะธ 16-20 (ะะปะพะบ III + ะะปะพะบ IV)
ะะฐะทะดะตะป 5 โ ะะพะดัะปั 13    (ะะปะพะบ II)
```

### ะะธะณัะฐัะธะพะฝะฝัะน SQL-ัะบัะธะฟั

```sql
-- ะะฐะฟะฟะธะฝะณ ัะธัะปะพะฒัั ะผะพะดัะปะตะน ะธะท Google Sheets โ module_id (FK ะฝะฐ course_modules)
-- ะัะฟะพะปะฝัะตััั ะะะกะะ ัะพะทะดะฐะฝะธั course_modules ะธ ะดะพะฑะฐะฒะปะตะฝะธั module_id ะฒ questions

-- ะะปั ะฒะพะฟัะพัะพะฒ ั ัะธัะปะพะฒัะผ ะผะพะดัะปะตะผ (81 ัั) โ ะฒ Supabase ััะพ ะฑัะดะตั ัะฐะฑะพัะฐัั
-- ัะพะปัะบะพ ะฟะพัะปะต ะฟะพะปะฝะพะน ะผะธะณัะฐัะธะธ ะธะท GSheets. ะะฐ ะดะฐะฝะฝะพะผ ััะฐะฟะต โ ะดะปั 7 ะฒะพะฟัะพัะพะฒ [SB]:
UPDATE questions 
SET module_id = (SELECT id FROM course_modules WHERE module_number = 1)
WHERE (module IS NULL OR module = '' OR module = 'ะคะะะะะะะะะะะงะะกะะะ ะะกะะะะซ')
  AND (competency_id = 'PHARMACOLOGY_BASICS' OR competency_block ILIKE '%basics%');
```

### ะกััะฐัะตะณะธั
- **ะคะฐะทะฐ 1:** ะะฐะฟะพะปะฝัะตะผ `module_id` ะดะปั 7 ะฒะพะฟัะพัะพะฒ ะฒ Supabase (ัะบัะธะฟั ะฒััะต)
- **ะะปั 81 ะฒะพะฟัะพัะฐ ะฒ Google Sheets:** ะัะฟะพะปัะทัะตะผ ะฟะพะปะต `ะะพะดัะปั` ะฝะฐะฟััะผัั ะฟัะธ ะทะฐะณััะทะบะต ะดะฐะฝะฝัั ะฝะฐ ะบะปะธะตะฝัะต (ะฑะตะท ะผะธะณัะฐัะธะธ ะฒ ะะ)
- **ะะพะปะฝะฐั ะผะธะณัะฐัะธั GSheets โ Supabase:** ะัะดะตะปัะฝะฐั ะฑัะดััะฐั ะธัะตัะฐัะธั

---

## 8. ะคะฐะทั ัะตะฐะปะธะทะฐัะธะธ ะดะปั Claude Code

### ะคะฐะทะฐ 0: ะัะดะธั ะธ ะฟะพะดะณะพัะพะฒะบะฐ (0.5 ะดะฝั)
**ะัะดะธั ะดะฐะฝะฝัั ะะซะะะะะะ** (ััะพั ัะฐั). ะะตะทัะปััะฐัั โ ะฒ ัะฐะทะดะตะปะต 7 ััะพะณะพ ะดะพะบัะผะตะฝัะฐ.

**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะัะพัะธัะฐะน .claude/CLAUDE.md, docs/roadmap.md, ะธ docs/iterations/006_structured-testing/requirements.md + design.md.

ะัะดะธั ะดะฐะฝะฝัั ัะถะต ะฒัะฟะพะปะฝะตะฝ. ะะปััะตะฒัะต ัะตะทัะปััะฐัั:
- 81 ะธะท 88 ะฒะพะฟัะพัะพะฒ ะธะผะตัั ัะธัะปะพะฒะพะน ะผะพะดัะปั (1-20) ะฒ Google Sheets
- 7 ะฒะพะฟัะพัะพะฒ [SB] ะฒ Supabase โ ะฒัะต = ะะพะดัะปั 1
- ะะฐะฟะฟะธะฝะณ ะะพะดัะปั โ ะะพะผะฟะตัะตะฝัะธั = 1:1 (ัะผ. design.md ัะฐะทะดะตะป 7)
- ะ GSheets ัะถะต ะตััั ะััะฟะฟั (PHARMA-0126) ะธ ะัััะฐะฝัั (cadet_id + PIN)

ะะฐะดะฐัะธ:
1. ะััะปะตะดัะน ัะตะบััะธะน ะบะพะด (ะฒะตัะธัะธะบะฐัะธั):
   - js/competencies-config.js โ ััััะบัััะฐ 26 ะบะพะผะฟะตัะตะฝัะธะน, ัะฒะตัั ั ะฐัะดะธัะพะผ
   - js/test-selector.js โ ะบะฐะบ ัะตะนัะฐั ะฒัะฑะธัะฐัััั ัะตััั, ััะพ ะฝัะถะฝะพ ะผะตะฝััั
   - js/competency-progress.js โ ัะตะบััะธะน ัะพัะผะฐั ะฟัะพะณัะตััะฐ
   - js/app.js ะธะปะธ index.html โ ะบะฐะบ ัะฐะฑะพัะฐะตั PIN-ะฐะฒัะพัะธะทะฐัะธั
   - instructor/ โ ัะตะบััะธะน ะบะฐะฑะธะฝะตั ะธะฝััััะบัะพัะฐ, ะบะฐะบะธะต ัััะฐะฝะธัั ะตััั
   
2. ะะพะดัะฒะตัะดะธ ะดะฐะฝะฝัะต ะฒ Supabase:
   - SELECT module, section, competency_block, COUNT(*) 
     FROM questions GROUP BY module, section, competency_block;
   - ะกะพะฒะฟะฐะดะฐะตั ะปะธ ั ะฐัะดะธัะพะผ?
   
3. ะกะพะทะดะฐะน docs/iterations/006_structured-testing/audit-report.md:
   - ะะพะดัะฒะตัะถะดะตะฝะธะต ัะตะทัะปััะฐัะพะฒ ะฐัะดะธัะฐ
   - ะกะฟะธัะพะบ ัะฐะนะปะพะฒ, ะบะพัะพััะต ะฝัะถะฝะพ ัะพะทะดะฐัั/ะธะทะผะตะฝะธัั
   - ะะฐะบะธะต ัะตะบััะธะต ััะฝะบัะธะธ ะทะฐััะพะฝััั

ะะต ะฟะธัะธ ะบะพะด ะฒ ััะพะน ัะฐะทะต โ ัะพะปัะบะพ ะฒะตัะธัะธะบะฐัะธั ะธ ะพัััั.
```

### ะคะฐะทะฐ 1: ะะ + ะผะธะณัะฐัะธั (1 ะดะตะฝั)
**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะัะพัะธัะฐะน docs/iterations/006_structured-testing/design.md (ัะฐะทะดะตะป 2: ะกัะตะผะฐ ะะ).

ะะฐะดะฐัะธ:
1. ะัะฟะพะปะฝะธ SQL ะผะธะณัะฐัะธั ะธะท design.md:
   - ะกะพะทะดะฐะน ัะฐะฑะปะธัั: course_levels, course_modules, student_groups, 
     course_assignments, test_sessions, test_session_modules,
     open_answer_questions, student_test_results, student_open_answers
   - ะะพะฑะฐะฒั ะฟะพะปะต module_id ะฒ questions
   - ะะฐัััะพะน RLS
   - ะกะพะทะดะฐะน ะธะฝะดะตะบัั

2. ะะฐะฟะธัะธ ัะบัะธะฟั ะผะฐะฟะฟะธะฝะณะฐ ะฒะพะฟัะพัะพะฒ:
   - ะะฐ ะพัะฝะพะฒะต audit-report.md ะธะท ะคะฐะทั 0
   - UPDATE questions SET module_id = X WHERE section = 'Y' AND ...
   - ะะตะทัะปััะฐั: ะฒัะต 88 ะฒะพะฟัะพัะพะฒ ะธะผะตัั module_id (ะธะปะธ ะฟะพะผะตัะตะฝั ะบะฐะบ unmatched)

3. ะะฑะฝะพะฒะธ .claude/CLAUDE.md โ ะดะพะฑะฐะฒั ะฝะพะฒัะต ัะฐะฑะปะธัั
4. ะกะพะทะดะฐะน docs/iterations/006_structured-testing/session-log-phase1.md
```

### ะคะฐะทะฐ 2: ะัััะฐะฝั โ ะผะพะดัะปะธ ะธ MC ัะตััั (2 ะดะฝั)
**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะัะพัะธัะฐะน docs/iterations/006_structured-testing/design.md (ัะฐะทะดะตะปั 4.1, 4.2, 5, 6, 7, 11).

ะะะะะ: ะะฐะฝะฝัะต ะฑะตััััั ะธะท ะะะฃะฅ ะธััะพัะฝะธะบะพะฒ:
- Google Sheets: 81 ะฒะพะฟัะพั (ะทะฐะณััะถะฐัััั ัะตัะตะท ัััะตััะฒัััะธะน ะผะตัะฐะฝะธะทะผ)
- Supabase: 7 ะฒะพะฟัะพัะพะฒ + ะฝะพะฒัะต ัะฐะฑะปะธัั (course_modules, course_assignments ะธ ะดั.)
ะัััะฐะฝั ะฐะฒัะพัะธะทัะตััั ัะตัะตะท ะกะฃะฉะะกะขะะฃะฎะฉะฃะฎ PIN-ัะธััะตะผั (cadet_id + pin_code).

ะะฐะดะฐัะธ:
1. ะกะพะทะดะฐะน js/course-data.js:
   - ะะฐะณััะทะบะฐ ะผะพะดัะปะตะน ะธะท Supabase (course_modules)
   - ะะฐะณััะทะบะฐ ะฝะฐะทะฝะฐัะตะฝะธะน ะดะปั ะณััะฟะฟั (course_assignments)
   - ะะฑัะตะดะธะฝะตะฝะธะต ะฒะพะฟัะพัะพะฒ ะธะท GSheets (ะฟะพะปะต ะะพะดัะปั) ะธ Supabase (module_id)
   - ะคัะฝะบัะธะธ: getOpenModules(groupId), getModuleQuestions(moduleNumber)

2. ะกะพะทะดะฐะน js/module-selector.js:
   - UI ะฒัะฑะพัะฐ ะผะพะดัะปั (ะทะฐะผะตะฝัะตั ัะตะบััะธะน "ะฒัะต 88 ะฒะพะฟัะพัะพะฒ")
   - ะะพะบะฐะทัะฒะฐะตั ัะพะปัะบะพ ะพัะบััััะต ะผะพะดัะปะธ ั ััะฐัััะฐะผะธ
   - ะััะฟะฟะธัะพะฒะบะฐ ะฟะพ ะฑะปะพะบะฐะผ
   - ะฃัะธััะฒะฐะตั cadet_id ะธะท ัะตะบััะตะน ัะตััะธะธ

3. ะะพะดะธัะธัะธััะน ัะตััะพะฒัะน UI:
   - ะขะตัั ะฟะพ ะบะพะฝะบัะตัะฝะพะผั ะผะพะดัะปั (ัะธะปัััะฐัะธั ะฟะพ module number)
   - ะกะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ ะฒ student_test_results (Supabase)
   - ะัะพะณัะตัั ะฟะพ ะผะพะดัะปั

4. ะะฝัะตะณัะธััะน ะฒ index.html (ะฟะพัะปะต ัััะตััะฒัััะตะน PIN-ะฐะฒัะพัะธะทะฐัะธะธ)
5. ะะฑะตัะฟะตัั ะพะฑัะฐัะฝัั ัะพะฒะผะตััะธะผะพััั (ััะฐััะน ัะตะถะธะผ "ะฒัะต ะฒะพะฟัะพัั" ะบะฐะบ fallback)
6. ะกะพะทะดะฐะน session-log-phase2.md
```

### ะคะฐะทะฐ 3: ะัััะฐะฝั โ ะทะฐะดะฐะฝะธั ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ (1โ2 ะดะฝั)
**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะัะพัะธัะฐะน docs/iterations/006_structured-testing/design.md (ัะฐะทะดะตะปั 4.3, 6.2).

ะะฐะดะฐัะธ:
1. ะกะพะทะดะฐะน js/open-answer-ui.js:
   - ะะตะฝะดะตัะธะฝะณ ะทะฐะดะฐะฝะธั ะฟะพ answer_template
   - ะะพะปั ะฒะฒะพะดะฐ ะดะปั ะบะฐะถะดะพะณะพ ัะปะตะผะตะฝัะฐ ัะฐะฑะปะพะฝะฐ
   - ะกะพััะฐะฝะตะฝะธะต ะพัะฒะตัะพะฒ ะฒ student_open_answers

2. ะะฝัะตะณัะธััะน ะฒ module-test.js:
   - ะะพัะปะต MC ะฒะพะฟัะพัะพะฒ โ ัะตะบัะธั ัะฐะทะฒััะฝัััั ะฒะพะฟัะพัะพะฒ
   - ะะฐะฒะธะณะฐัะธั: MC โ Open Answer โ ะกัะตะฝะฐัะธะน

3. ะะพะฑะฐะฒั ัะตััะพะฒัะต ะดะฐะฝะฝัะต:
   - 3โ5 ะทะฐะดะฐะฝะธะน ั ัะฐะทะฒััะฝัััะผ ะพัะฒะตัะพะผ ะดะปั ะะพะดัะปั 1
   - ะัะฟะพะปัะทัะน ะฟัะธะผะตัั ะธะท requirements.md (ัะฐะทะดะตะป 4.2 ััะฝะดะพััะฐ)

4. ะกะพะทะดะฐะน session-log-phase3.md
```

### ะคะฐะทะฐ 4: ะะฝััััะบัะพั โ ัะฟัะฐะฒะปะตะฝะธะต ะบัััะพะผ (2 ะดะฝั)
**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะัะพัะธัะฐะน docs/iterations/006_structured-testing/design.md (ัะฐะทะดะตะปั 4.4, 3.2, 6, 11).

ะะะะะ: ะ Google Sheets ะฃะะ ะตััั ะณััะฟะฟั (PHARMA-0126) ะธ ะบัััะฐะฝัั (ั cadet_id, PIN).
ะะพะฒะฐั ัััะฐะฝะธัะฐ ัะฟัะฐะฒะปะตะฝะธั ะบัััะพะผ ัะฐะฑะพัะฐะตั ะก Supabase, ะฝะพ ััะธััะฒะฐะตั
ัััะตััะฒัััะธะต ะดะฐะฝะฝัะต ะธะท GSheets.

ะะฐะดะฐัะธ:
1. ะกะพะทะดะฐะน instructor/course-management.html + instructor/js/course-management.js:
   - ะกะพะทะดะฐะฝะธะต ะณััะฟะฟั: group_code + name + ััะพะฒะตะฝั ะบัััะฐ + instructor_name
   - ะะผะฟะพัั ัััะตััะฒัััะตะน ะณััะฟะฟั ะธะท GSheets (ะฒะฒะพะด group_code โ ะฟะพะดััะณะธะฒะฐะตะผ)
   - ะกะฟะธัะพะบ ะผะพะดัะปะตะน ะฟะพ ะฑะปะพะบะฐะผ ั ะบะฝะพะฟะบะฐะผะธ ะพัะบัััั/ะทะฐะบัััั
   - ะะฐััะพะฒะพะต ะพัะบัััะธะต ะฑะปะพะบะฐ (ะฒัะต ะผะพะดัะปะธ ะฑะปะพะบะฐ)
   - ะกะพะทะดะฐะฝะธะต ัะตััะพะฒัั ัะตััะธะน (ะฒัะพะดะฝะพะน/ะผะพะดัะปัะฝัะน/ัะธะฝะฐะปัะฝัะน)

2. ะะพะฑะฐะฒั ะฟะฐะฝะตะปั ััะฐัััะพะฒ ะบัััะฐะฝัะพะฒ:
   - ะกะฟะธัะพะบ ะบัััะฐะฝัะพะฒ ะณััะฟะฟั (ะฟะพ cadet_id, ะธะผั)
   - ะัะพะณัะตัั ะฟะพ ะบะฐะถะดะพะผั ะผะพะดัะปั (% ะฟัะฐะฒะธะปัะฝัั ะพัะฒะตัะพะฒ)
   - ะะฝะพะฟะบะฐ "ะะฐะทะฝะฐัะธัั ะฟะพะฒัะพัะฝะพะต ะฟัะพัะพะถะดะตะฝะธะต"

3. UI ะดะปั ะฟัะธะฒัะทะบะธ ะฒะพะฟัะพัะพะฒ ะบ ะผะพะดัะปัะผ:
   - ะขะฐะฑะปะธัะฐ ะฒะพะฟัะพัะพะฒ ั dropdown ะดะปั ะฒัะฑะพัะฐ ะผะพะดัะปั
   - ะะฐััะพะฒะพะต ะฝะฐะทะฝะฐัะตะฝะธะต (ะฒัะฑัะฐัั ะฝะตัะบะพะปัะบะพ โ ะฝะฐะทะฝะฐัะธัั ะผะพะดัะปั)

4. ะะพะฑะฐะฒั ัััะปะบั ะฝะฐ course-management ะฒ instructor/index.html
5. ะกะพะทะดะฐะน session-log-phase4.md
```

### ะคะฐะทะฐ 5: ะะฝัะตะณัะฐัะธั ะธ ัะตััะธัะพะฒะฐะฝะธะต (1 ะดะตะฝั)
**ะะฐะดะฐะฝะธะต ะดะปั Claude Code:**
```
ะะฐะดะฐัะธ:
1. End-to-end ัะตััะธัะพะฒะฐะฝะธะต ะฟะพัะพะบะฐ:
   - ะะฝััััะบัะพั ัะพะทะดะฐัั ะณััะฟะฟั โ ะพัะบััะฒะฐะตั ะผะพะดัะปะธ โ ัะพะทะดะฐัั ัะตััะธั
   - ะัััะฐะฝั ะฒะธะดะธั ะฝะฐะทะฝะฐัะตะฝะฝัะต ะผะพะดัะปะธ โ ะฟัะพัะพะดะธั ัะตัั โ ัะพััะฐะฝัะตั ะพัะฒะตัั
   - ะะฝััััะบัะพั ะฒะธะดะธั ัะตะทัะปััะฐัั

2. ะัะพะฒะตัั ะพะฑัะฐัะฝัั ัะพะฒะผะตััะธะผะพััั:
   - Flashcards ัะฐะฑะพัะฐัั
   - ะะฐััะพัะบะธ ะฟัะตะฟะฐัะฐัะพะฒ ัะฐะฑะพัะฐัั
   - ะกัะตะฝะฐัะธะธ ัะฐะฑะพัะฐัั
   - Google Sheets sync ะฝะต ะฝะฐัััะตะฝะฐ

3. ะะฑะฝะพะฒะธ ะดะพะบัะผะตะฝัะฐัะธั:
   - .claude/CLAUDE.md โ ะฝะพะฒัะต ัะฐะฑะปะธัั ะธ ัะฐะนะปั
   - docs/roadmap.md โ ะพัะผะตัั 006 ะบะฐะบ ะทะฐะฒะตัััะฝะฝัั
   - docs/iterations/006_structured-testing/session-log-phase5.md

4. Git commit + push + verify deployment ะฝะฐ GitHub Pages
```

---

## 9. ะัะตะฝะบะฐ ััะพะบะพะฒ

| ะคะฐะทะฐ | ะะฟะธัะฐะฝะธะต | ะัะตะฝะบะฐ |
|------|----------|--------|
| 0 | ะัะดะธั ะธ ะฒะตัะธัะธะบะฐัะธั (ัะฐััะธัะฝะพ ะฒัะฟะพะปะฝะตะฝ) | 0.5 ะดะฝั |
| 1 | ะะ + ะผะธะณัะฐัะธั | 1 ะดะตะฝั |
| 2 | ะัััะฐะฝั โ ะผะพะดัะปะธ + MC | 2 ะดะฝั |
| 3 | ะัััะฐะฝั โ open answer | 1โ2 ะดะฝั |
| 4 | ะะฝััััะบัะพั โ ัะฟัะฐะฒะปะตะฝะธะต | 2 ะดะฝั |
| 5 | ะะฝัะตะณัะฐัะธั + ัะตััะธัะพะฒะฐะฝะธะต | 1 ะดะตะฝั |
| **ะัะพะณะพ** | | **7.5โ8.5 ะดะฝะตะน** |

---

## 10. ะะธัะบะธ ะธ ัะตัะตะฝะธั

| ะะธัะบ | ะะตัะตะฝะธะต |
|------|---------|
| ะะฐะฝะฝัะต ะฒ GSheets ะธ Supabase โ ะดะฒะฐ ะธััะพัะฝะธะบะฐ ะฟัะฐะฒะดั | ะะฐ 006 ัะฐะฑะพัะฐะตะผ ั ะพะฑะพะธะผะธ: GSheets ะดะปั 81 ะฒะพะฟัะพัะฐ (ะบะปะธะตะฝั), Supabase ะดะปั 7 + ะฝะพะฒัะต ัะฐะฑะปะธัั. ะะพะปะฝะฐั ะผะธะณัะฐัะธั โ ะพัะดะตะปัะฝะฐั ะธัะตัะฐัะธั |
| ะกััะตััะฒัััะฐั PIN-ะฐะฒัะพัะธะทะฐัะธั ะผะพะถะตั ะบะพะฝัะปะธะบัะพะฒะฐัั ั ะฝะพะฒัะผ UI | ะกะพััะฐะฝัะตะผ ัััะตััะฒัััะธะน flow: cadet_id + PIN. ะะพะฒัะต ัะบัะฐะฝั ะผะพะดัะปะตะน ะฒัััะฐะธะฒะฐัััั ะะะกะะ ะฐะฒัะพัะธะทะฐัะธะธ |
| ะกััะตััะฒัััะธะน ะฟัะพะณัะตัั (progress_matrix) ะฝะตัะพะฒะผะตััะธะผ ั ะฝะพะฒัะผะธ ัะตะทัะปััะฐัะฐะผะธ | ะะพะฒัะต ัะตะทัะปััะฐัั ะฟะธััััั ะฒ student_test_results (Supabase), ััะฐััะน progress_matrix ะฝะต ััะพะณะฐะตะผ. ะะฑัะตะดะธะฝะตะฝะธะต โ ะฟัะธ ะผะธะณัะฐัะธะธ |
| 88 ะฒะพะฟัะพัะพะฒ โ ะผะฐะปะพ ะดะปั ะฟะพะปะฝะพัะตะฝะฝะพะณะพ ะผะพะดัะปัะฝะพะณะพ ัะตััะธัะพะฒะฐะฝะธั | LLM ะณะตะฝะตัะฐัะธั (ะธัะตัะฐัะธั 005) ะฟะพะทะฒะพะปัะตั ะฑััััะพ ะฝะฐัะฐัะธะฒะฐัั ะบะพะฝัะตะฝั |
| Google Sheets sync ะผะพะถะตั ัะปะพะผะฐัััั ะฟัะธ ะธะทะผะตะฝะตะฝะธะธ ััะตะผั questions | ะะพะฑะฐะฒะปัะตะผ module_id ะบะฐะบ nullable, Apps Script ะธะณะฝะพัะธััะตั ะฝะพะฒัะต ะฟะพะปั |

---

## 11. ะกะพะฒะผะตััะธะผะพััั ั Google Sheets

### ะงัะพ ัะพััะฐะฝัะตััั ะฑะตะท ะธะทะผะตะฝะตะฝะธะน
- ะะธัั ยซะะพะฟัะพััยป: 88 ะฒะพะฟัะพัะพะฒ, ะฟะพะปะต ะะพะดัะปั (ัะธัะปะพะฒะพะต)
- ะะธัั ยซะัะตะฟะฐัะฐััยป: ะบะฐััะพัะบะธ ะฟัะตะฟะฐัะฐัะพะฒ
- ะะธัั ยซะกัะตะฝะฐัะธะธยป: ะธะฝัะตัะฐะบัะธะฒะฝัะต ะบะปะธะฝะธัะตัะบะธะต ััะตะฝะฐัะธะธ
- ะะธัั ยซะััะฟะฟัยป: group_code, instructor
- ะะธัั ยซะัััะฐะฝััยป: cadet_id, pin_code
- ะะธัั ยซะัะพะณัะตััยป: progress_matrix JSON

### ะงัะพ ะดะพะฑะฐะฒะปัะตััั ะฒ Supabase (ะฟะฐัะฐะปะปะตะปัะฝะพ)
- course_modules โ ัะฟัะฐะฒะพัะฝะธะบ ะผะพะดัะปะตะน (ะฝะพะฒัะน)
- course_assignments โ ะฝะฐะทะฝะฐัะตะฝะธั ะผะพะดัะปะตะน ะณััะฟะฟะฐะผ (ะฝะพะฒัะน)
- test_sessions โ ัะตััะธะธ ัะตััะธัะพะฒะฐะฝะธั (ะฝะพะฒัะน)
- student_test_results โ ะฝะพะฒัะน ัะพัะผะฐั ัะตะทัะปััะฐัะพะฒ MC
- student_open_answers โ ัะฐะทะฒััะฝัััะต ะพัะฒะตัั (ะฝะพะฒัะน)
- open_answer_questions โ ะฝะพะฒัะน ัะธะฟ ะฒะพะฟัะพัะพะฒ

### ะัะธะฝัะธะฟ ะดะฒะพะนะฝะพะณะพ ะธััะพัะฝะธะบะฐ
ะะพะบะฐ ะฝะต ะฟัะพะธะทะฒะตะดะตะฝะฐ ะฟะพะปะฝะฐั ะผะธะณัะฐัะธั:
- **ะะพะฟัะพัั MC** ะทะฐะณััะถะฐัััั ะธะท Google Sheets (81 ัั) + Supabase (7 ัั)
- **ะััะฟะฟั ะธ ะบัััะฐะฝัั** ัะฟัะฐะฒะปััััั ัะตัะตะท Google Sheets (ัััะตััะฒัััะธะน flow)
- **ะะฐะทะฝะฐัะตะฝะธั ะผะพะดัะปะตะน ะธ ัะตััะธะธ** โ ัะตัะตะท Supabase (ะฝะพะฒัะน ััะฝะบัะธะพะฝะฐะป)
- **ะะตะทัะปััะฐัั ะฝะพะฒะพะณะพ ัะตััะธัะพะฒะฐะฝะธั** โ ะฒ Supabase (student_test_results)
